<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [radspec](#radspec)
    -   [evaluateRaw](#evaluateraw)
    -   [evaluate](#evaluate)
-   [Scanner](#scanner)
    -   [scanToken](#scantoken)
    -   [emitToken](#emittoken)
    -   [consume](#consume)
    -   [peek](#peek)
    -   [matches](#matches)
    -   [scan](#scan)
    -   [eof](#eof)
    -   [report](#report)
-   [scan](#scan-1)
-   [Token](#token)
-   [Parser](#parser)
    -   [consume](#consume-1)
    -   [previous](#previous)
    -   [peek](#peek-1)
    -   [matches](#matches-1)
    -   [parse](#parse)
    -   [eof](#eof-1)
    -   [report](#report-1)

## radspec

### evaluateRaw

Evaluate a radspec expression with manual bindings.

**Parameters**

-   `source` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The radspec expression
-   `bindings` **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** An object of bindings and their values

**Examples**

```javascript
const radspec = require('radspec')

radspec.evaluateRaw('a is `a`', {
  a: { type: 'int256', value: 10 }
}).then(console.log)
```

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** The result of the evaluation

### evaluate

Evaluate a radspec expression (`source`) for a transaction (`call`)

**Parameters**

-   `source` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The radspec expression
-   `call` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The call that determines the bindings for this evaluation
    -   `call.abi` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)** The ABI used to decode the transaction data
    -   `call.transaction` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The transaction to decode for this evaluation
        -   `call.transaction.to` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The destination address for this transaction
        -   `call.transaction.data` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The transaction data

Returns **[Promise](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise)&lt;[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)>** The result of the evaluation

## Scanner

A scanner that identifies tokens in a source string.

**Parameters**

-   `source` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The source code

**Properties**

-   `state` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The state of the parser (`OK` or `ERROR`)
-   `source` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The source code
-   `cursor` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 
-   `tokens` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Token](#token)>** The currently identified tokens

### scanToken

Scans a single token from source and pushes it to `Scanner.tokens`.

Returns **void** 

### emitToken

Push a token to `Scanner.tokens`

**Parameters**

-   `type` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The token type
-   `value` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** The token value

Returns **void** 

### consume

Get the current character and increase the cursor by 1

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### peek

Get the character under the cursor without consuming it.

Returns **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### matches

Checks if the next character matches an expected one.

Increases the cursor by 1 if the character matches.

**Parameters**

-   `expected` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The character to expect

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** True if the next character matches, otherise false

### scan

Scans source and returns a list of tokens.

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Token](#token)>** 

### eof

Returns true if we've reached the end of source, otherwise false.

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

### report

Prints an error with location information to `stderr`
and sets the scanner state to `SCANNER_STATE.ERROR`

**Parameters**

-   `error` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **void** 

## scan

Scans source and returns a list of tokens.

**Parameters**

-   `source` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Token](#token)>** 

## Token

A token.

Type: [Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)

**Properties**

-   `type` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The token type
-   `value` **any?** The value of the token

## Parser

Parses a token list into an AST.

**Parameters**

-   `tokens` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Token](#token)>** 

**Properties**

-   `state` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The state of the parser (`OK` or `ERROR`)
-   `tokens` **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Token](#token)>** 
-   `cursor` **[number](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number)** 

### consume

Get the current token and increase the cursor by 1

Returns **[Token](#token)** 

### previous

Get the previous token.

Returns **[Token](#token)** 

### peek

Get the token under the cursor without consuming it.

Returns **[Token](#token)** 

### matches

Checks if the type of the next token matches any of the expected types.

Increases the cursor by 1 if the token matches.

**Parameters**

-   `expected` **...[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The expected types

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** True if the next token matches, otherwise false

### parse

Walks the token list and returns an AST.

Returns **[object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** 

### eof

Returns true if we've reached the end of the token list, otherwise false.

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

### report

Prints an error with location information to `stderr`
and sets the parser state to `PARSER_STATE.ERROR`

**Parameters**

-   `error` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

Returns **void** 
